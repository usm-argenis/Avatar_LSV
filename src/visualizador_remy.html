<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador 3D - Avatar Remy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow: hidden;
        }

        .container {
            display: grid;
            grid-template-columns: 350px 1fr;
            height: 100vh;
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            overflow-y: auto;
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.2);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .control-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .control-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
            margin-bottom: 10px;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .file-input-label {
            display: block;
            padding: 12px;
            background: #667eea;
            color: white;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .file-input-label:hover {
            background: #764ba2;
            transform: translateY(-2px);
        }

        .file-name {
            margin-top: 8px;
            font-size: 0.85em;
            color: #666;
            text-align: center;
            padding: 8px;
            background: white;
            border-radius: 5px;
        }

        select, input[type="range"] {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #ddd;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.3s;
            width: 100%;
            margin-bottom: 8px;
        }

        .button-primary {
            background: #28a745;
            color: white;
        }

        .button-primary:hover {
            background: #218838;
            transform: scale(1.02);
        }

        .button-secondary {
            background: #ffc107;
            color: #333;
        }

        .button-secondary:hover {
            background: #e0a800;
        }

        .button-danger {
            background: #dc3545;
            color: white;
        }

        .button-danger:hover {
            background: #c82333;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .info-box {
            background: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e0e0e0;
        }

        .info-label {
            font-size: 0.75em;
            color: #666;
            margin-bottom: 3px;
        }

        .info-value {
            font-size: 1.3em;
            font-weight: 600;
            color: #667eea;
        }

        #canvas-container {
            position: relative;
            background: #1a1a2e;
        }

        #loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.5em;
            text-align: center;
            z-index: 100;
        }

        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .message {
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            font-size: 0.9em;
            display: none;
        }

        .message.show {
            display: block;
        }

        .message-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .message-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .message-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .timeline-container {
            margin-top: 15px;
        }

        .timeline-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .timeline-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .timeline-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
        }

        .camera-controls {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 5px;
        }

        .camera-button {
            padding: 8px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.85em;
        }

        .camera-button:hover {
            background: #5a6268;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="header">
                <h1>üé¨ Visualizador 3D</h1>
                <p>Avatar Remy - LSV</p>
            </div>

            <div id="successMessage" class="message message-success"></div>
            <div id="errorMessage" class="message message-error"></div>
            <div id="infoMessage" class="message message-info"></div>

            <!-- Cargar Avatar -->
            <div class="control-section">
                <h3>üë§ Avatar</h3>
                <div class="file-input-wrapper">
                    <input type="file" id="avatarFile" accept=".fbx">
                    <label for="avatarFile" class="file-input-label">
                        üì¶ Cargar Avatar FBX
                    </label>
                </div>
                <div class="file-name" id="avatarFileName">Remy.fbx (por defecto)</div>
            </div>

            <!-- Cargar Animaci√≥n -->
            <div class="control-section">
                <h3>üéûÔ∏è Animaci√≥n</h3>
                <select id="quickLoad">
                    <option value="">Seleccionar animaci√≥n...</option>
                    <option value="output_yo.json">YO</option>
                    <option value="output_tu.json">TU</option>
                    <option value="output_el.json">√âL</option>
                    <option value="output_ella.json">ELLA</option>
                    <option value="output_nosotros.json">NOSOTROS</option>
                    <option value="output_hola.json">HOLA</option>
                    <option value="output_gracias.json">GRACIAS</option>
                    <option value="output_hola_gracias.json">HOLA GRACIAS</option>
                </select>
                <div class="file-input-wrapper">
                    <input type="file" id="jsonFile" accept=".json">
                    <label for="jsonFile" class="file-input-label">
                        üìÅ O Cargar JSON
                    </label>
                </div>
                <div class="file-name" id="jsonFileName">Ninguna cargada</div>
            </div>

            <!-- Controles de Reproducci√≥n -->
            <div class="control-section">
                <h3>‚èØÔ∏è Reproducci√≥n</h3>
                <button class="button button-primary" id="playButton">‚ñ∂ Reproducir</button>
                <button class="button button-secondary" id="pauseButton">‚è∏ Pausar</button>
                <button class="button button-danger" id="stopButton">‚èπ Detener</button>
                
                <div class="timeline-container">
                    <input type="range" class="timeline-slider" id="timeline" min="0" max="100" value="0">
                </div>

                <div class="info-grid">
                    <div class="info-box">
                        <div class="info-label">Frame</div>
                        <div class="info-value" id="currentFrame">0</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Total</div>
                        <div class="info-value" id="totalFrames">0</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Tiempo</div>
                        <div class="info-value" id="currentTime">0s</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Duraci√≥n</div>
                        <div class="info-value" id="duration">0s</div>
                    </div>
                </div>
            </div>

            <!-- Controles de C√°mara -->
            <div class="control-section">
                <h3>üì∑ C√°mara</h3>
                <div class="camera-controls">
                    <button class="camera-button" id="cameraFront">Frente</button>
                    <button class="camera-button" id="cameraSide">Lado</button>
                    <button class="camera-button" id="cameraTop">Arriba</button>
                </div>
                <button class="button button-secondary" id="resetCamera" style="margin-top: 10px;">üîÑ Reset</button>
            </div>

            <!-- Opciones -->
            <div class="control-section">
                <h3>‚öôÔ∏è Opciones</h3>
                <button class="button button-secondary" id="debugBones" style="margin-bottom: 10px; width: 100%;">
                    üîç Ver Bones en Consola
                </button>
                <label>
                    <input type="checkbox" id="showGrid" checked> Mostrar Grid
                </label><br>
                <label>
                    <input type="checkbox" id="showAxes" checked> Mostrar Ejes
                </label><br>
                <label>
                    <input type="checkbox" id="autoRotate"> Auto-Rotar
                </label>
            </div>
        </div>

        <div id="canvas-container">
            <div id="loading">
                <div class="spinner"></div>
                <p>Cargando Avatar Remy...</p>
            </div>
        </div>
    </div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { FBXLoader } from 'three/addons/loaders/FBXLoader.js';

        // Variables globales
        let scene, camera, renderer, controls;
        let avatar = null;
        let animationData = null;
        let currentFrameIndex = 0;
        let isPlaying = false;
        let animationInterval = null;
        let gridHelper, axesHelper;

        // Elementos DOM
        const loading = document.getElementById('loading');
        const avatarFileInput = document.getElementById('avatarFile');
        const jsonFileInput = document.getElementById('jsonFile');
        const quickLoadSelect = document.getElementById('quickLoad');
        const playButton = document.getElementById('playButton');
        const pauseButton = document.getElementById('pauseButton');
        const stopButton = document.getElementById('stopButton');
        const timeline = document.getElementById('timeline');

        // Inicializar escena Three.js
        function init() {
            const container = document.getElementById('canvas-container');
            
            // Escena
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x1a1a2e);
            scene.fog = new THREE.Fog(0x1a1a2e, 10, 50);

            // C√°mara
            camera = new THREE.PerspectiveCamera(
                50,
                container.clientWidth / container.clientHeight,
                0.1,
                1000
            );
            camera.position.set(0, 1.6, 3);

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.appendChild(renderer.domElement);

            // Controles de √≥rbita
            controls = new OrbitControls(camera, renderer.domElement);
            controls.target.set(0, 1, 0);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.update();

            // Luces
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(5, 10, 7.5);
            directionalLight.castShadow = true;
            directionalLight.shadow.camera.right = 2;
            directionalLight.shadow.camera.left = -2;
            directionalLight.shadow.camera.top = 2;
            directionalLight.shadow.camera.bottom = -2;
            scene.add(directionalLight);

            const pointLight = new THREE.PointLight(0xffffff, 0.3);
            pointLight.position.set(-5, 5, -5);
            scene.add(pointLight);

            // Grid
            gridHelper = new THREE.GridHelper(10, 10, 0x444444, 0x222222);
            scene.add(gridHelper);

            // Ejes
            axesHelper = new THREE.AxesHelper(2);
            scene.add(axesHelper);

            // Suelo
            const planeGeometry = new THREE.PlaneGeometry(10, 10);
            const planeMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x16213e,
                roughness: 0.8,
                metalness: 0.2
            });
            const plane = new THREE.Mesh(planeGeometry, planeMaterial);
            plane.rotation.x = -Math.PI / 2;
            plane.receiveShadow = true;
            scene.add(plane);

            // Cargar avatar por defecto
            loadDefaultAvatar();

            // Resize
            window.addEventListener('resize', onWindowResize);

            // Animaci√≥n
            animate();
        }

        function loadDefaultAvatar() {
            showInfo('Cargando avatar Remy...');
            const loader = new FBXLoader();
            
            loader.load(
                '../avatars/Remy.fbx',
                (fbx) => {
                    avatar = fbx;
                    avatar.scale.set(0.01, 0.01, 0.01);
                    avatar.position.set(0, 0, 0);
                    
                    // Contador para debug
                    let bonesFound = [];
                    
                    avatar.traverse((child) => {
                        if (child.isMesh) {
                            child.castShadow = true;
                            child.receiveShadow = true;
                        }
                        
                        // Guardar nombres de bones para debug
                        if (child.isBone || child.type === 'Bone') {
                            bonesFound.push(child.name);
                        }
                        
                        // Ocultar piernas - buscar por m√∫ltiples nombres posibles
                        const name = child.name ? child.name.toLowerCase() : '';
                        if (name.includes('leg') || name.includes('thigh') || name.includes('calf') || 
                            name.includes('foot') || name.includes('toe') || name.includes('pierna') ||
                            name.includes('hip') && !name.includes('spine')) {
                            
                            if (child.isMesh) {
                                child.visible = false; // Ocultar mesh de piernas
                            }
                        }
                    });
                    
                    // Mostrar bones encontrados en consola para debug
                    console.log('Bones encontrados:', bonesFound);
                    
                    scene.add(avatar);
                    
                    // Ajustar c√°mara para enfocar tren superior
                    camera.position.set(0, 1.6, 2.5); // M√°s cerca y a altura del torso
                    controls.target.set(0, 1.4, 0); // Apuntar al pecho
                    controls.update();
                    
                    loading.style.display = 'none';
                    showSuccess('‚úÖ Avatar Remy cargado (tren superior visible)');
                },
                (progress) => {
                    const percent = (progress.loaded / progress.total * 100).toFixed(0);
                    loading.innerHTML = `<div class="spinner"></div><p>Cargando ${percent}%...</p>`;
                },
                (error) => {
                    console.error('Error cargando avatar:', error);
                    loading.innerHTML = '<p>‚ö†Ô∏è No se pudo cargar Remy.fbx<br>Usa el bot√≥n para cargar manualmente</p>';
                    showError('No se encontr√≥ Remy.fbx en ../avatars/');
                }
            );
        }

        function onWindowResize() {
            const container = document.getElementById('canvas-container');
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        }

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            
            if (document.getElementById('autoRotate').checked && avatar) {
                avatar.rotation.y += 0.005;
            }
            
            renderer.render(scene, camera);
        }

        // Cargar avatar custom
        avatarFileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const loader = new FBXLoader();
                    loader.load(
                        URL.createObjectURL(file),
                        (fbx) => {
                            if (avatar) scene.remove(avatar);
                            avatar = fbx;
                            avatar.scale.set(0.01, 0.01, 0.01);
                            avatar.position.set(0, 0, 0);
                            
                            avatar.traverse((child) => {
                                if (child.isMesh) {
                                    child.castShadow = true;
                                    child.receiveShadow = true;
                                }
                            });
                            
                            scene.add(avatar);
                            document.getElementById('avatarFileName').textContent = file.name;
                            showSuccess(`‚úÖ Avatar ${file.name} cargado`);
                        },
                        undefined,
                        (error) => {
                            showError('Error al cargar el avatar FBX');
                        }
                    );
                };
                reader.readAsArrayBuffer(file);
            }
        });

        // Cargar animaci√≥n
        jsonFileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    try {
                        animationData = JSON.parse(event.target.result);
                        loadAnimation();
                        document.getElementById('jsonFileName').textContent = file.name;
                        showSuccess(`‚úÖ Animaci√≥n ${file.name} cargada`);
                    } catch (error) {
                        showError('Error al leer el archivo JSON');
                    }
                };
                reader.readAsText(file);
            }
        });

        quickLoadSelect.addEventListener('change', async (e) => {
            const fileName = e.target.value;
            if (fileName) {
                try {
                    const response = await fetch(fileName);
                    if (response.ok) {
                        animationData = await response.json();
                        loadAnimation();
                        document.getElementById('jsonFileName').textContent = fileName;
                        showSuccess(`‚úÖ ${fileName} cargada`);
                    } else {
                        showError(`No se encontr√≥ ${fileName}`);
                    }
                } catch (error) {
                    showError('Error al cargar la animaci√≥n');
                }
            }
        });

        function loadAnimation() {
            if (!animationData || !animationData.frames) {
                showError('Datos de animaci√≥n inv√°lidos');
                return;
            }

            document.getElementById('totalFrames').textContent = animationData.frames.length;
            document.getElementById('duration').textContent = (animationData.duration || 0).toFixed(2) + 's';
            timeline.max = animationData.frames.length - 1;
            currentFrameIndex = 0;
            updateFrame();
        }

        function updateFrame() {
            if (!animationData || !avatar || currentFrameIndex >= animationData.frames.length) return;

            const frame = animationData.frames[currentFrameIndex];
            const pose = frame.keypoints?.pose || frame.pose;

            if (pose && avatar) {
                // Aplicar transformaciones al avatar
                avatar.traverse((child) => {
                    if (!child.name) return;
                    
                    const name = child.name.toLowerCase();
                    
                    // Mano derecha
                    if (pose.right_hand && (name.includes('righthand') || name.includes('right_hand') || 
                        name.includes('hand_r') || name === 'rhand')) {
                        
                        // Rotaci√≥n de la mano
                        child.rotation.x = THREE.MathUtils.degToRad(pose.right_hand.rotation_x || 0);
                        child.rotation.y = THREE.MathUtils.degToRad(pose.right_hand.rotation_y || 0);
                        child.rotation.z = THREE.MathUtils.degToRad(pose.right_hand.rotation_z || 0);
                    }
                    
                    // Brazo derecho (codo)
                    if (pose.right_arm && (name.includes('rightforearm') || name.includes('right_forearm') ||
                        name.includes('lowerarm_r') || name.includes('forearm_r'))) {
                        
                        // √Ångulo del codo
                        child.rotation.x = THREE.MathUtils.degToRad(-pose.right_arm.elbow_angle || 0);
                    }
                    
                    // Hombro derecho
                    if (pose.right_arm && (name.includes('rightupperarm') || name.includes('right_upper_arm') ||
                        name.includes('upperarm_r') || name.includes('arm_r'))) {
                        
                        // √Ångulo del hombro
                        child.rotation.z = THREE.MathUtils.degToRad(pose.right_arm.shoulder_angle || 0);
                    }
                    
                    // Cabeza
                    if (pose.head && (name.includes('head') || name === 'head')) {
                        child.rotation.x = THREE.MathUtils.degToRad(pose.head.rotation_x || 0);
                        child.rotation.y = THREE.MathUtils.degToRad(pose.head.rotation_y || 0);
                        child.rotation.z = THREE.MathUtils.degToRad(pose.head.rotation_z || 0);
                    }
                });
            }

            // Actualizar UI
            document.getElementById('currentFrame').textContent = currentFrameIndex + 1;
            document.getElementById('currentTime').textContent = frame.time?.toFixed(2) + 's' || '0s';
            timeline.value = currentFrameIndex;
        }

        // Controles de reproducci√≥n
        playButton.addEventListener('click', () => {
            if (!animationData || !avatar) {
                showError('Carga un avatar y una animaci√≥n primero');
                return;
            }
            
            isPlaying = true;
            const fps = animationData.fps || 30;
            const frameTime = 1000 / fps;

            animationInterval = setInterval(() => {
                currentFrameIndex++;
                if (currentFrameIndex >= animationData.frames.length) {
                    currentFrameIndex = 0;
                }
                updateFrame();
            }, frameTime);
            
            showInfo('‚ñ∂ Reproduciendo...');
        });

        pauseButton.addEventListener('click', () => {
            isPlaying = false;
            if (animationInterval) {
                clearInterval(animationInterval);
                animationInterval = null;
            }
            showInfo('‚è∏ Pausado');
        });

        stopButton.addEventListener('click', () => {
            isPlaying = false;
            if (animationInterval) {
                clearInterval(animationInterval);
                animationInterval = null;
            }
            currentFrameIndex = 0;
            updateFrame();
            showInfo('‚èπ Detenido');
        });

        timeline.addEventListener('input', (e) => {
            if (isPlaying) {
                pauseButton.click();
            }
            currentFrameIndex = parseInt(e.target.value);
            updateFrame();
        });

        // Controles de c√°mara
        document.getElementById('cameraFront').addEventListener('click', () => {
            camera.position.set(0, 1.6, 3);
            controls.target.set(0, 1, 0);
            controls.update();
        });

        document.getElementById('cameraSide').addEventListener('click', () => {
            camera.position.set(3, 1.6, 0);
            controls.target.set(0, 1, 0);
            controls.update();
        });

        document.getElementById('cameraTop').addEventListener('click', () => {
            camera.position.set(0, 5, 0);
            controls.target.set(0, 1, 0);
            controls.update();
        });

        document.getElementById('resetCamera').addEventListener('click', () => {
            camera.position.set(0, 1.6, 3);
            controls.target.set(0, 1, 0);
            controls.update();
        });

        // Opciones
        document.getElementById('showGrid').addEventListener('change', (e) => {
            gridHelper.visible = e.target.checked;
        });

        document.getElementById('showAxes').addEventListener('change', (e) => {
            axesHelper.visible = e.target.checked;
        });

        document.getElementById('autoRotate').addEventListener('change', (e) => {
            controls.autoRotate = e.target.checked;
        });

        // Debug de bones
        document.getElementById('debugBones').addEventListener('click', () => {
            if (!avatar) {
                showError('Carga un avatar primero');
                return;
            }

            console.log('='.repeat(60));
            console.log('ESTRUCTURA DEL AVATAR REMY:');
            console.log('='.repeat(60));
            
            let bonesList = [];
            let meshesList = [];
            
            avatar.traverse((child) => {
                if (child.isBone || child.type === 'Bone') {
                    bonesList.push({
                        name: child.name,
                        type: child.type,
                        position: `(${child.position.x.toFixed(2)}, ${child.position.y.toFixed(2)}, ${child.position.z.toFixed(2)})`
                    });
                }
                if (child.isMesh) {
                    meshesList.push({
                        name: child.name,
                        visible: child.visible,
                        geometry: child.geometry.type
                    });
                }
            });

            console.log('\nüì¶ BONES ENCONTRADOS:', bonesList.length);
            console.table(bonesList);
            
            console.log('\nüé® MESHES ENCONTRADOS:', meshesList.length);
            console.table(meshesList);
            
            console.log('='.repeat(60));
            
            showSuccess(`‚úÖ Revisa la consola (F12) - ${bonesList.length} bones, ${meshesList.length} meshes`);
        });

        // Mensajes
        function showSuccess(message) {
            showMessage('successMessage', message);
        }

        function showError(message) {
            showMessage('errorMessage', message);
        }

        function showInfo(message) {
            showMessage('infoMessage', message);
        }

        function showMessage(elementId, message) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.classList.add('show');
            setTimeout(() => {
                element.classList.remove('show');
            }, 4000);
        }

        // Iniciar
        init();
    </script>
</body>
</html>
